=== ShortPixel Image Optimizer ===
Contributors: ShortPixel 
Tags: compressor, image, compression, optimize, image optimizer, image optimiser, image compression, resize, compress pdf, compress jpg, compress png, image compression
Requires at least: 3.2.0
Tested up to: 5.1
Requires PHP: 5.3
Stable tag: 4.13.1
License: GPLv2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html

Speed up your website and boost your SEO by compressing old & new images and PDFs. Compatible with any gallery, slider or ecommerce plugin.

== Description ==

**A freemium easy to use, comprehensive, stable and frequently updated image compression plugin supported by the friendly team that created it.  :)**

Increase your website's SEO ranking, number of visitors and ultimately your sales by optimizing any image or PDF document on your website.
ShortPixel is an easy to use, lightweight, install-and-forget-about-it <a href="https://shortpixel.com" target="_blank">image optimization</a> plugin that can compress all your past images and PDF documents with a single click. New images are automatically resized/rescaled and optimized on the fly, in the background.

**Ready for a quick DEMO? Test <a href="https://sandboxwordpress.com/?htmldata=https://shortpixel.com/sp.html&slug=shortpixel-image-optimiser&redirect=plugins.php&title=Test%20SHORTPIXEL%20Now!&ga=UA-55918546-1" target="_blank">here</a> or <a href="http://poopy.life/create?url=/wp-admin/admin.php?page=sandbox" target="_blank">here</a>.**

Short Pixel uses minimal resources and works well with any shared, cloud, VPS or dedicated web hosting. It can optimize any image you have on your website even the images that aren't listed in Media Library like those in galleries like <a href="https://wordpress.org/plugins/nextgen-gallery/" target="_blank">NextGEN</a>, <a href="https://wordpress.org/plugins/modula-best-grid-gallery/" target="_blank">Modula</a> or added directly via FTP!

Both lossy and lossless image compression is available for the most common image types (JPG, PNG, GIF and WebP) plus PDF files.
We also offer **glossy** JPEG compression which is a very high quality lossy optimization algorithm. Specially designed for photographers!
Optimized images mean better user experience, better PageSpeed Insights or GTmetrix results, better Google PageRank and more visitors.

Make an instant <a href="http://shortpixel.com/image-compression-test" target="_blank">image compression test</a> on your site or <a href="http://shortpixel.com/online-image-compression" target="_blank">compress some images</a> to make sure they are to your liking.

**Why is ShortPixel the best choice when it comes to image optimization or PDF compression?**

* popular plugin with over 100,000 active installations according to WordPress
* compress JPG, PNG, GIF (still or animated) images and also PDF documents
* option to automatically convert PNG to JPG if that will result in smaller images. Ideal for large images in PNG format.
* no file size limit
* option to freely convert any JPEG, PNG or GIF (even animated ones!) to **WebP** for more Google love. <a href="http://blog.shortpixel.com/how-webp-images-can-speed-up-your-site/" target="_blank">How to enable WebP?</a>
* option to include the generated WebP images into the front-end pages by using the &lt;picture&gt; tag instead of &lt;img&gt;
* compatible with WP Retina 2x - all **retina images** are automatically compressed. <a href="http://blog.shortpixel.com/how-to-use-optimized-retina-images-on-your-wordpress-site-for-best-user-experience-on-apple-devices/" target="_blank">How to benefit from Retina displays?</a>
* optimize thumbnails as well as featured images. You can also **select individual thumbnails to exclude** from optimization.
* ability to optimize any image on your site including images in **NextGEN Gallery** and any other image galleries or sliders
* integrates with Gravity Forms post_image field type optimizing the images upon upload
* featured images can be automatically resized before being optimized with 2 different options. No need for additional plugins like Imsanity
* CMYK to RGB conversion
* **24h <a href="https://wordpress.org/support/plugin/shortpixel-image-optimiser/reviews/?filter=5" target="_blank">stellar support</a>** (24/7) directly from developers.
* easily **test lossy/lossless** versions of the images with a single click in your Media Library
* **great for photographers**: <a href="http://blog.shortpixel.com/how-much-smaller-can-be-images-without-exif-icc/" target="_blank">keep or remove EXIF</a> data from your images, compress images with lossless option
* works well with both HTTPS and HTTP websites
* uses progressive JPEG for larger images in order to speed up the image display
* you can run ShortPixel plugin on **multiple websites** or on a **multisite** with a **single API Key**
* it is **safe to test** and use the plugin: all the original images can be restored with a click, either one by one or in bulk
* 'Bulk' optimize all the existing images in Media Library or in any gallery with one click
* works great for **eCommerce websites using WooCommerce** or other plugins
* works great with NextGEN gallery, Foo Gallery and any other galleries and sliders
* compatible with WP Engine hosted websites and all the major hosting providers
* compatible with WPML and WPML Media plugins
* skip already optimized images
* compatible with watermarking plugins
* option to deactivate auto-optimizing images on upload
* images that are optimized less that 5% are bonus
* WooCommerce, WP offload S3 and WP Stateless compatible
* 40 days optimization report with all image details and overall statistics
* We are GDPR compliant! <a href="https://shortpixel.com/privacy#gdpr" target="_blank">Read more.</a>
* **free optimization credits for non-profits**, <a href="https://shortpixel.com/contact" target="_blank">contact us</a> for details
    
**How much does it cost?**
ShortPixel comes with 100 free credits/month and additional credits can be bought for as little as $4.99 for 5,000 image credits.
Check out <a href="https://shortpixel.com/pricing" target="_blank">our prices</a>.

> **Testimonials:**  
> ★★★★★ **A Super Plugin works very well 62% reduction overall.** [robertvarns](https://wordpress.org/support/topic/a-super-plugin-works-very-well-62-reduction-overall/)   
> ★★★★★ **The secret sauce for a WordPress website.**  [mark1mark](https://wordpress.org/support/topic/the-secret-sauce-for-a-wordpress-website/)  
> ★★★★★ **A must have plugin, great support!** [ElColo13](https://wordpress.org/support/topic/a-must-have-plugin-great-support/)  
> ★★★★★ **Excellent Plugin! Even Better Customer Service!**  [scaliendo](https://wordpress.org/support/topic/great-plugin-great-support-508/)  
> ★★★★★ **Great image compression, solid plugin, equally great support.** [matters1959](https://wordpress.org/support/topic/support-shortpixel-image-optimizer/)  
> [more testimonials](https://wordpress.org/support/plugin/shortpixel-image-optimiser/reviews/?filter=5)

[youtube https://www.youtube.com/watch?v=5EbX0Hsy6j4]

Help us spread the word by recommending ShortPixel to your friends and collect **100 lifetime monthly additional image credits for each referred active user**. Make money by promoting a great plugin with our <a href="https://shortpixel.com/free-sign-up-affiliate" target="_blank">50/50 affiliate program</a>.

**Get in touch!**

* Email <a href="https://shortpixel.com/contact" target="_blank">https://shortpixel.com/contact</a>
* Twitter <a href="https://twitter.com/shortpixel" target="_blank">https://twitter.com/shortpixel</a>
* Google+ <a href="https://www.google.com/+Shortpixelpage" target="_blank">https://www.google.com/+Shortpixelpage</a>
* Facebook <a href="https://www.facebook.com/ShortPixel" target="_blank">https://www.facebook.com/ShortPixel</a>
* LinkedIn <a href="https://www.linkedin.com/company/shortpixel" target="_blank">https://www.linkedin.com/company/shortpixel</a>

== Installation ==

Let's get ShortPixel plugin running on your WordPress website:


1. Sign up using your email at https://shortpixel.com/wp-apikey
2. You will receive your personal API key in a confirmation email, to the address you provided.
3. Upload the ShortPixel plugin to the /wp-content/plugins/ directory
4. Use your unique API key to activate ShortPixel plugin in the 'Plugins' menu in WordPress.
5. Uploaded images can be automatically optimized in the Media Library.
6. Done!


== Frequently Asked Questions ==

= How does ShortPixel compare to other image optimisation plugins (e.g Smush, Imagify, TinyPNG, Kraken, EWWW)?  =
	ShortPixel has better compression rates, more features, supports backups and has very affordable one-time plans.
	If you are serious about making an informed decision please take 10 minutes and read this <a href="https://blog.shortpixel.com/wp-image-optimization-wordpress-plugins/">article</a>.
	
= Can I use the same API Key on multiple web sites? =
    Yes, you can. 
    As long as you have available credits you can use a single API Key on as many websites as you wish!

= Can I test/use the plugin for free? =
    Yes you can. 
    We offer 100 free image optimization credits each month. Exceeding the monthly free quota will pause the optimization process till the quota is reset or extended by buying one of our plans.

= Can I optimize images that aren't in Media Library? =
    Absolutely. 
    You can actually optimize any image you have on your site regardless of its place. You just need to add - in the Advanced section of the ShortPixel Settings - the folders where the images you want to optimize are located and ShortPixel will work its magic and do the rest.

= Can I optimize both past and new images? =
    Sure! 
    You can optimize all your past/current images using our "Bulk ShortPixel" page in your Media with a single click.

= A credit = an optimized image? =
    Yes, that is correct.
     But please note that usually an image in Media Library has 3, 5 or more associated thumbs. Each optimized thumb requires a credit. In the rare cases when ShortPixel does not optimize the image (lossy) with at least 5%, the credit will not be consumed, though.

= Can I restore my images? What happens with the originals? =
    If you choose the "Image backup" option in Settings/ShortPixel then the original version of any optimized image or PDF will be saved in the backup folder.
    The original image is needed if you want to restore an image or if you want to convert an image from lossy/glossy to lossless or viceversa.

= What types of formats can be optimized? =
    ShortPixel optimizes JPEG, PNG, GIF and PDF type of files.

= Do you have one-time plans? =
    Yes we do.
    The credits that come with our <a href="https://shortpixel.com/plans" >one-time plans</a> never expire. Yummy! :-)

= What happens to my existing images? =
    Your existing images are replaced with the optimized ones.
    If you choose the backup option then the originals will be saved in a separate folder so you can restore them should you ever need/want to do that.

= How does the plugin work? =
    Our light-weight plugin sends the original images to our Image Optimization Cloud where they are compressed. ShortPixel then downloads the optimized images and the unoptimized originals are replaced with the optimized versions.

= Do you optimize the images in cloud? =
    Yes, all the images processsed by ShortPixel are optimized in the Cloud. This takes the load off of your server and allows us to produce the best results.

= What payment methods are accepted? =
    We accept payments via PayPal and card.

= How do I activate the API key on a multisite? =
    You have to activate the plugin in the network admin and then activate it manually on each individual site in the multisite. Once you have done that, the Settings menu appears and you can add the API key for each individual site.
    As an alternative, you can edit wp-config.php and add this line
    define(‘SHORTPIXEL_API_KEY’, ‘APIKEY’)
    where ‘APIKEY’ is the API Key received upon sign up.
    If configured that way, the API key will be used for all the sites of the multisite but will only be visible on the main site’s Settings page, being hidden for the rest of the sites.

= I am not the only one working in the WordPress Dashboard. How can I hide my API key? =
    There is a simple way to hide the API key, all you need to do is to add these two lines in your wp-config.php:
    define('SHORTPIXEL_API_KEY', '<<your api key here>>');
    define('SHORTPIXEL_HIDE_API_KEY', true);

= How much is a credit? =
    A credit is used each time ShortPixel optimizes an image or thumbnail by at least 5%. If we're not able to optimize an image or thumbnail by at least 5% then no credit will be used :-)
    Please also note that usually images in your Media Library have 3-5 thumbs associated and a credit will be used for each featured image or associated thumbnail that is optimized.

= Why shall I use a wordpress plugin and not an offline tool? =
    Because ShortPixel algorithms were perfected while optimizing over a hundred million real-life images. 
    ShortPixel not only offers the best compression for JPEG, PNG, GIF and PDF files but it also saves you a lot of time. You just install it on your site and then ShortPixel will take care that all the images on your site are immediately optimized after upload.

= Does optimizing images affect my ALT tags? =
    No, ShortPixel only optimizes images, it won't touch anything else like your HTML/CSS.

= If I stop using ShortPixel will my images remain optimized? =
    Absolutely!
    Once optimized the images will remain optimized unless you explicitly choose to restore them. But why would you do that? :-)

= Do I have to pay monthly or one time? =
    We have both options available. 
    One-time credits never expire are a bit more expensive. Check out our prices <a href="https://shortpixel.com/pricing" >here</a>

= When can I cancel a monthly plan? =
    Whenever you want. 
    The credits you still have available for the current billing period will still be available until the end of the billing period. At the end of it, you won't be billed again and the plan will be reset to the free plan.

= When credits expire? =
    Monthly credits expire after 30 days while one-time credits never expire.

= Do you have an API? =
    Yes, we have several APIs and tools. 
    You can learn more about it here:
    <a href="https://shortpixel.com/api-tools">https://shortpixel.com/api-tools</a>

= Can I use ShortPixel WP plugin on a localhost installation? =
    Unfortunately not :-(
    But you can use either our command line tool or our web tool
    <a href="https://shortpixel.com/web-tool-docs">https://shortpixel.com/web-tool-docs</a>
    <a href="https://shortpixel.com/cli-docs">https://shortpixel.com/cli-docs</a>

= How does resizing work? =
    If you choose the option to resize your images then the featured image can be resized to a predefined size while keeping its aspect and proportions intact. The associated thumbs won't be resized
    Using this option you can safely upload original images safely without needing to apply any pre-processing to make them smaller.

= Will ShortPixel work if my website is using CloudFare? =
    Absolutely! Sometimes you'll need to make sure you whitelist some IPs, just <a href="http://shortpixel.com/contact">contact us</a> and we'll assist you with that.

= I’m stuck. What do I do? =

The ShortPixel team is here to help. <a href="https://shortpixel.com/contact">Contact us</a>!


== Actions and Filters for Developers ==

The ShortPixel Image Optimiser plugin calls the following actions and filters:
> do_action( 'shortpixel_image_optimised', $post_id ); //upon successful optimization
> do_action("shortpixel_before_restore_image", $post_id); //before restoring an image from backup
> do_action("shortpixel_after_restore_image", $post_id); //after succesful restore
> apply_filters("shortpixel_backup_folder", $backup_folder); //just before returning the ShortPixel backup folder, usually ...wp-content/uploads/ShortpixelBackups


== Screenshots ==

1. Bulk optimization running. (Media>Bulk ShortPixel)

2. Activate your API key in the plugin Settings. (Settings>ShortPixel)

3. Check out the main settings after API key activated. (Settings>ShortPixel)

4. Tweak it using Advanced settings. (Settings>ShortPixel)

5. Compress all your past images with one click. (Media>Bulk ShortPixel)

6. Check your stats: number of processed files, saved space, average compression, saved bandwidth, remaining images. (Settings>ShortPixel)

7. Check images optimization status, restore or reoptimize the image. (Media>Library)

8. Check image optimization details. (Media>Library->Edit)

9. Check other optimized images status - themes or other plugins' images. (Media>Other Media)

== Changelog ==

= 4.13.1 =

Release date: 16th April 2019
* fix thumbnail optimization when a thumbnail was replaced with another one
* better integration with Regenerate Thumbnails Advanced

= 4.13.0 =

Release date: 10th April 2019
* Bulk restore for the Other Media
* make the filename extension be updated when manually optimizing a PNG from Media Library, if the convert to JPG is active, without refreshing the page
* Integration with Regenerate Thumbnails Advanced new 2.0 beta version
* Add the rules for WebP in the WP-CONTENT .htaccess
* ShortPixel Other Media - display the time of optimization in the grid and offer option to sort by it
* Keep sort order when optimizing / refreshing page on Other Media
* offer the visual comparer for Other Media too
* resolve the Settings inconsistency in Other Media (settings displayed were from when adding the folder not from when actually optimizing)
* Make pressing Escape or clicking outside of any popup close it.
* Fixed: Restoring an Other Media item and then Optimizing it again optimizes it Lossless
* fix generating the WebP <picture> tags when the images are either on a subdomain or on a CDN domain having the same root domain as the main site.

= 4.12.8 =

Release date: 25th February 2019

* fix CSS for the top bar ShortPixel icon on post pages
* i18n some text which was left out by mistake
* include the green "CAN" WebP image which shows that the .htaccess works with WebP images having extensions like .jpg.webp
* display notice if ShortPixel Adaptive Images is active and the Generate WebP markup option is checked. Do not generate the WebP markup in this case.

= 4.12.7 =

Release date: 12th February 2019

* solved conflicting WebP file names when image.jpg and image.png exist in the same folder - use image.jpg.webp filename.
* fixed .htaccess rules for some Apache versions which seemingly don't honour the RewriteRule backreferences in the RewriteCond's (Apache bug?)
* remove the WebP .htaccess rules on plugin deactivation and add them back on plugin activation
* fixed alt attribute for <picture> tags - now it is included properly only on the enclosed <img> tag.

= 4.12.6 =

Release date: 27th January 2019

* Improvements to the .htaccess WebP method
* Improve performance of backup deletion - get rid of unnecessary checks
* Fixed: wrong calculation of remaining credits
* Fixed: discrepancy between the description of the exclude size option and the behaviour for the exact size case.

= 4.12.5 =

Release date: 10th Ianuary 2019

* change the JS name in order to circumveit cache problem on many WP installs
* sorting the Media Library entries by ShortPixel optimization: also sort based on compression level
* Fixed: case sensitive search for guid duplicates of image posts (needed for finding Polylang versions)
* Fixed: the data-lazy-src/srcset detection for WebP
* Improvements to the Deliver WebP options and especially messages with caveats
* Load the ShortPixel CSS only on admin pages that need it

= 4.12.4 =

Release date: 27th December 2018

* Fixed: shortpixel-thumbnails-regenerated action when not all the thumbnails were regenerated

= 4.12.3 =

Release date: 19th December 2018

* Fixed: error in getting the lazy- attributes of <img> for WebP handling.

= 4.12.2 =

Release date: 13th December 2018

* Improved: The Webp options interface. Now the user can implement Webp images both via .htaccess and by altering the page code on the server before being sent to the browser.
* Improved: The settings data handling interface in the Plugin deactivation dialogue. Now the option to delete or keep the user settings on plugin deletion is more clear.
* Added: Option to download image with thumbnails in a single archive file, to speed-up the optimization.
* Added: A "shortpixel_get_backup" filter, which receives the local path of the media image and returns the ShortPixel backup path, if a backup image exists
* Added: The "Simple Image Sizes" plugin to the conflicting plugins list
* Added: A new compatibility check for the "Jetpack" plugin, alerting the user about potential overlapping functionality
* Added: A safety alert before switching to Code Altering mode (where IMG tgs get inserted into PICTURE tags, to better serve Webp images)
* Added: Enhanced "Envira" plugin compatibility by adding more suffixes to be looked for: _tl, _tr, _bl, _br
* Added: More customized FAQ suggestions in the HelpScout Beacon helper, to address each Plugin TAB separately
* Fixed: The post-uninstall redirect when uninstalling a plugin from within the respective plugin's Settings page
* Fixed: The credits display on the Statistics page
* Fixed: Refreshing a plugin page now loads directly in the previously selected TAB
* Fixed: Removed a stray "SP_CELL_MESSAGE" div from the interface

= 4.12.1 =

Release date: 6th November 2018

* Fix WebP replacement for lazy-loaded images
* Fix WebP replacement with output buffering on some WP installs

= 4.12.0 =

Release date: 31st October 2018

* Generate WebP &lt;picture&gt; tags - use the output buffer instead of the_content which is not triggered by some themes on all content.
* compatibility of the WebP &lt;picture&gt; tag with lazy loading plugins (that support &lt;picture&gt;)
* Compatibility with Polylang.
* hooks to be used by thumbnail regeneration plugins: 'shortpixel-thumbnails-before-regenerate' and 'shortpixel-thumbnails-regenerated'
* Proper error message when the custom tables cannot be created.
* exclude the PNGs from conversion to JPEG when they match the exclude patterns.
* properly warn when cURL is not enabled that Cloudflare integration won't work.
* send only one url for metadata thumbnails which correspond to the same physical file.
* JavaScript delayed init for cases when some plugins deffer the load of javascript files.
* fix identifying filenames with basename length == 3 as retina
* display improvements for the bulk errors list

= 4.11.3 =

Release date: 27th September 2018

* fix error when metadata is returned as string by wp_get_attachment_metadata (happens to PDFs when using PDF Image Generator)
* remove the configurable Affiliate code as per new WP Themes rules.

= 4.11.2 =

Release date: 30th August 2018

* Fix "Image files are missing" warning when thumbails optimization is activated but all the thumbnails are excepted from optimization and the bulk is ran a second time.
* Fix not saving properly the metadata on some situations

= 4.11.1 =

Release date: 28th August 2018

* compatibility with the MediaPress plugin
* new action to be called by when thumbnails are regenerated: shortpixel-thumbnails-regenerated
* accept '+' inside the e-mail address
* fix optimization not working on internationalized domain names
* better count of the not optimized thumbs for an image, in some circumstances
* fallback to ABSPATH when get_home_path() returns '/'
* fix settings tabs navigation when url ends with #/
* extract all release notes < 4.9 from readme.txt into changelog.txt
* display the thumbnail name for some errors which refer only to a specific thumbnail.
* use update_post_meta() instead of wp_update_attachment_metadata() for cases when other plugins cannot be concerned by the meta change (specific to ShortPixel)
* add the attributes of the original <img> to the <picture> replacement tag, in case the "Generate WebP Markup" option is active.
* fix action buttons in media edit view overflowing their box
* restore full compatibility with WP < 4.1 by checking first before using wp_json_encode
* fix admin when domain is internationalized but the setting in admin uses the punycode-encrypted version

= 4.11.0 =

Release date: 3rd July 2018

* add bulk menu options: restore, reoptimize
* filter the media list by optimization status
* sort the media list by optimization status
* do not display the Media Library (years) folders in the selection list for Other Media folders
* force PNG 2 JPG conversion option
* integrate with Gravity Forms
* integrate with WP Stateless
* add several actions and a filter (see the Actions and Filters section of the readme)
* UI improvements to the settings page
* fix the WPML compatibility when converting from PNG
* fix SELECT IN image counting bug on rare cases and when >100k records in wp_postmeta
* add option to delete ShortPixel settings and give feedback form on deactivate plugin

= 4.10.5 =
* GDPR compliance

= 4.10.4 =
* replace back the PNG links when restoring a PNG converted to JPG
* fix incompatibility with Dynamics 365 Integration plugin
* improve restore capabilities after certain types of PNG to JPG errors which left the media item in an unconsistent state.
* remove AUTH credentials on server too, if removed in plugin's settings.
* more performance improvements to PNG 2 JPG conversion
* fix replacing PNG urls having http:// instead of https:// for a SSL site. (and viceversa)
* fix string not appearing in translations

= 4.10.3 =
* improvements to context help beacon
* performance improvements to PNG to JPG conversion

= 4.10.2 =
* fix error when listing Other media in some circumstances

= 4.10.1 =
* fix missing file from commit

= 4.10.0 =
* option to exclude thumbnails from optimization
* options to delete Cloudflare cache for optimized images
* method to define affilate codes for themes
* error message when restore could not be performed
* better handling of situations with files with different owner but with write permissions for all
* fix bug for inner resize when setting and unsetting the resize parameter
* fix bug for third-party WebP thumbnails registered in the 'sizes' metadata array which were sent to optimization.
* check if function mb_convert_encoding exists before using it

= 4.9.1 =
* fix error for older WP versions which don't have wp_raise_memory_limit

= 4.9.0 =
* inline help beacon
* fix exclude patterns not working after last update
* handle situations when not enough memory to convert from PNG to JPG.
* fix particular situations where there was no 'file' property in the metadata.
* fix slider optimized percent over the bulk warning box.
* display the x close link for the bulk warning box.

= EARLIER VERSIONS =
* please refer to the changelog.txt file inside the plugin archive.
